<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>Home</title>
    <link href="../static/css/Style.css" th:href="@{/Style.css}" rel="stylesheet">
</head>
<body>

<header th:replace="~{commons/fragments::nav}">

</header>

<div class="container">
<!--    <div class="logged-user nav-item nav-link" sec:authorize="isAuthenticated()">-->
<!--&lt;!&ndash;        Welcome, <th:block sec:authentication="principal.username"></th:block>!&ndash;&gt;-->
<!--    </div>-->

    <aside class="sidebar" id="sidebar">
        <div class="profile" sec:authorize="isAuthenticated()" th:object="${user}">
            <img th:src="*{photoURL}" alt="User Avatar" class="avatar">
            <h3 th:text="*{username}">Username</h3>
            <a href="#">View Profile</a>
        </div>
        <div class="search-bar">
            <input type="text" placeholder="Search...">
        </div>
        <nav class="sidebar-nav">
            <ul>
                <li><a href="#">Home</a></li>
                <li><a href="#">Categories</a></li>
                <li><a href="#">Popular Topics</a></li>
                <li><a href="#">New Posts</a></li>
                <li><a href="#">Notifications</a></li>
            </ul>
        </nav>
    </aside>

    <div class="main-content">
        <div class="homeContainer">
            <section class="mostCommentedPostsContainer">
                <h2>Most Commented Posts</h2>
                <ul th:each="post: ${Top10MostCommented}" th:object="${post}">
                    <li>
                        <h3 th:text="*{title}"></h3>
                        <p th:text="*{content}"></p>
                        <p><strong>User:</strong> <span th:text="*{username}"></span></p>
                        <p><strong>Category:</strong> <span th:text="*{category}"></span></p>

                        <p><strong>Likes:</strong> <span th:text="*{likesCount}"></span></p>
                    </li>
                </ul>
            </section>

            <section class="mostRecentPostsContainer">
                <h2>Most Recent Posts</h2>
                <ul th:each="post: ${Top10MostRecent}" th:object="${post}">
                    <li>
                        <h3 th:text="*{title}"></h3>
                        <p th:text="*{content}"></p>
                        <p><strong>User:</strong> <span th:text="*{username}"></span></p>
                        <p><strong>Category:</strong> <span th:text="*{category}"></span></p>
                        <p><strong>Likes:</strong> <span th:text="*{likesCount}"></span></p>
                    </li>
                </ul>
            </section>
        </div>
    </div>
</div>

<footer class="footer">
    <p>&copy; 2024 Forum. All rights reserved.</p>
</footer>

<script>
    function toggleSidebar() {
        document.getElementById('sidebar').classList.toggle('collapsed');
    }
</script>


</body>
</html>